<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      py:strip="">

<py:def function="disqus_comment(post_id=None **kwargs)">
	<div id="disqus_thread"></div>
	<script type="text/javascript">
//	var disqus_developer = 1; // TODO: enable in development mode, hide on prod
	var disqus_shortname = '${settings['disqus_shortname']}';

	// The following are highly recommended additional parameters. Remove the slashes in front to use.
	var disqus_identifier = '${post_id}';
	// TODO: fill both variables below
	// var disqus_url = 'http://example.com/permalink-to-page.html';
	// var disqus_title = Title of the article

	(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</py:def>

<py:def function="disqus_comment_count(shortname=None, **kwargs)">
        <script py:if="settings['comments_engine'] == 'disqus'" type="text/javascript">
	var disqus_shortname = '${settings['disqus_shortname']}';
 
	(function () {
	var s = document.createElement('script'); s.async = true;
	s.type = 'text/javascript';
	s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
	(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
	}());
	</script>
</py:def>

</html>
